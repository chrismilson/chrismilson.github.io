"use strict";(self.webpackChunkchrismilson_github_io=self.webpackChunkchrismilson_github_io||[]).push([[342],{10:(t,e,s)=>{s.d(e,{HO:()=>i,p9:()=>h});const i=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return t===e&&(t=0),t+Math.floor(Math.random()*(e-t))},h=(t,e)=>t+Math.random()*(e-t)},246:(t,e,s)=>{s.d(e,{X:()=>o});var i=s(43);function h(t){const e=(0,i.useRef)(),[s,h]=(0,i.useState)(),{width:r,height:o}=function(t){const[e,s]=(0,i.useState)({width:0,height:0});return(0,i.useEffect)(()=>{const e=()=>{if(!t.current)return;const e=window.devicePixelRatio,i=t.current.offsetWidth*e,h=t.current.offsetHeight*e;s({width:i,height:h})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),e}(e);return(0,i.useEffect)(()=>{e.current&&h(e.current.getContext("2d")||void 0)},[e]),(0,i.useLayoutEffect)(()=>{if(s)return s.canvas.width=r,s.canvas.height=o,((t,e)=>{let s,i=!1;const h=setTimeout(async()=>{i||(s=t())},e);return()=>{clearTimeout(h),i=!0}})(()=>t(s,{width:r,height:o,prefersReducedMotion:!window.matchMedia("(prefers-reduced-motion: no-preferece)").matches}),50)},[t,s,r,o]),e}var r=s(579);const o=t=>{const{draw:e,className:s,pixelated:i=!1}=t,o=h(e),a=["Wallpaper","Canvas"];return void 0!==s&&a.push(s),i&&a.push("pixelated"),(0,r.jsx)("canvas",{className:a.join(" "),ref:o})}},342:(t,e,s)=>{s.r(e),s.d(e,{default:()=>d});s(43);var i=s(246);class h{constructor(t){this.status=void 0,this.neighbors=[],this.status=t?1:0}get isAlive(){return 1&this.status}swap(){this.status^=1}addNeighbor(t){this.neighbors.push(t)}check(){3===(this.neighbors.reduce((t,e)=>t+e.isAlive,0)|this.status)&&(this.status|=2)}age(){this.status=this.status>>1}}var r=s(10);class o{constructor(t,e){this.width=void 0,this.height=void 0,this.board=void 0,this.width=Math.floor(t),this.height=Math.floor(e),this.board=[];for(let s=0;s<this.width;s++){this.board[s]=[];for(let t=0;t<this.height;t++)this.board[s][t]=new h(Math.random()<.1)}for(let s=0;s<this.width;s++)for(let t=0;t<this.height;t++)for(const[e,i]of[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]]){const h=(s+e+this.width)%this.width,r=(t+i+this.height)%this.height;this.board[s][t].addNeighbor(this.board[h][r])}}draw(t){for(let e=0;e<this.width;e++)for(let s=0;s<this.height;s++)this.board[e][s].isAlive&&(t.save(),t.fillStyle=`hsl(${(0,r.HO)(360)},100%,40%)`,t.fillRect(e,s,1,1),t.restore())}move(){this.board.forEach(t=>t.forEach(t=>t.check())),this.board.forEach(t=>t.forEach(t=>t.age()));for(let t=0;t<5;t++)this.board[(0,r.HO)(this.width)][(0,r.HO)(this.height)].swap()}}var a=s(579);const n=(t,e)=>{let{width:s,height:i}=e;const h=s/4,r=i/4;t.setTransform(4,0,0,4,0,0),t.globalAlpha=.2;const a=new o(h,r),n=setInterval(()=>{t.clearRect(0,0,h,r),a.draw(t),a.move()},100);return()=>{clearInterval(n)}},d=()=>(0,a.jsx)(i.X,{className:"GameOfLife",draw:n,pixelated:!0})}}]);
//# sourceMappingURL=342.2eb83632.chunk.js.map